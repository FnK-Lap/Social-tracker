var Instagram=function(a){function b(){location.reload()}function c(){$("#load-more").hide(),$("#loader").css("display","inline-block"),a.send("/instagram/feed/"+maxId,{},!0,"GET",d)}function d(a){maxId=a.pagination.next_max_id;for(var b=a.data,c=0;c<b.length;c++){var d="<li><figure>";"video"==b[c].type&&(d+="<i class='fa fa-video-camera fa-border fa-lg'></i>"),1==b[c].user_has_liked&&(d+="<i class='fa fa-heart fa-lg'></i>"),d+="<a href='/instagram/"+b[c].id+"'><img src="+b[c].images.low_resolution.url+"></a><figcaption><h5>"+b[c].user.username+"</h5>",null!=b[c].caption&&(d+="<span>"+b[c].caption.text+"</span>"),d+="</figcaption></figure></li>",$(".load-more").before(d)}$("#loader").hide(),$("#load-more").show()}function e(){$(this).children().addClass("fa-spin"),$(this).hasClass("liked")?a.send("/instagram/"+mediaId+"/dislike",{},!0,"GET",function(){location.reload(),$(this).children().removeClass("fa-spin")}):a.send("/instagram/"+mediaId+"/like",{},!0,"GET",function(){location.reload(),$(this).children().removeClass("fa-spin")})}function f(){a.send("/instagram/"+mediaId+"/refresh",{},!0,"GET",function(){location.reload()})}return{success:b,loadMore:c,successLoadMore:d,likeDislike:e,refreshMedia:f}};